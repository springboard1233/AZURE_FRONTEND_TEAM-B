<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Azure Demand Forecasting Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.1);
            padding: 20px 0;
            transition: all 0.3s ease;
        }

        .sidebar-header {
            padding: 0 20px 30px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .logo {
            font-size: 1.6rem;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 0.9rem;
            color: #666;
        }

        .nav-menu {
            list-style: none;
            padding: 20px 0;
        }

        .nav-item {
            margin: 5px 0;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            text-decoration: none;
            color: #333;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            border-radius: 0 25px 25px 0;
            margin-right: 10px;
        }

        .nav-link:hover, .nav-link.active {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.05) 100%);
            border-left-color: #667eea;
            color: #667eea;
            transform: translateX(5px);
        }

        .nav-icon {
            width: 22px;
            height: 22px;
            margin-right: 15px;
            fill: currentColor;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .topbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .page-title {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .filters-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-label {
            font-size: 0.8rem;
            color: #666;
            font-weight: 500;
        }

        .filter-select, .filter-input {
            padding: 8px 12px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 10px;
            background: white;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .filter-select:focus, .filter-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .refresh-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            transition: all 0.4s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .chart-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }

        .chart-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 25px;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chart-title::before {
            content: '';
            width: 5px;
            height: 25px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 3px;
            margin-right: 15px;
        }

        .chart-subtitle {
            font-size: 0.9rem;
            color: #666;
            font-weight: normal;
        }

        .chart-container {
            height: 350px;
            position: relative;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            transition: all 0.4s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, var(--card-color), var(--card-color-light));
        }

        .stat-card:hover {
            transform: scale(1.08);
        }

        .stat-value {
            font-size: 2.4rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--card-color);
        }

        .stat-label {
            color: #666;
            font-size: 1rem;
            font-weight: 500;
        }

        .stat-trend {
            font-size: 0.8rem;
            margin-top: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .trend-up { color: #10b981; }
        .trend-down { color: #ef4444; }

        .stat-card:nth-child(1) { --card-color: #667eea; --card-color-light: #a5b4fc; }
        .stat-card:nth-child(2) { --card-color: #10b981; --card-color-light: #6ee7b7; }
        .stat-card:nth-child(3) { --card-color: #f59e0b; --card-color-light: #fbbf24; }
        .stat-card:nth-child(4) { --card-color: #8b5cf6; --card-color-light: #c4b5fd; }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .insight-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            border-left: 5px solid var(--insight-color, #667eea);
        }

        .insight-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }

        .insight-content {
            color: #666;
            line-height: 1.6;
        }

        .insight-metric {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--insight-color, #667eea);
            margin: 10px 0;
        }

        .data-table {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        }

        .table-wrapper {
            overflow-x: auto;
            border-radius: 15px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th, td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        }

        th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.5px;
        }

        tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
            font-size: 1.2rem;
            color: #666;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin: 20px 0;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(102, 126, 234, 0.1);
            border-left-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            gap: 15px;
        }

        .section-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section-icon svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #333;
        }

        .region-badge, .resource-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .region-east-us { background: rgba(102, 126, 234, 0.2); color: #667eea; }
        .region-west-us { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .region-north-europe { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .region-southeast-asia { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }

        .resource-vm { background: rgba(102, 126, 234, 0.2); color: #667eea; }
        .resource-storage { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .resource-container { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }

        @media (max-width: 1024px) {
            .sidebar { width: 250px; }
            .dashboard-grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .sidebar { width: 200px; }
            .main-content { padding: 20px; }
            .topbar { flex-direction: column; align-items: stretch; }
            .filters-container { justify-content: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">Azure Analytics Pro</div>
                <div class="subtitle">Advanced Demand Forecasting</div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" onclick="showSection('dashboard')">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z"/>
                        </svg>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#trends" class="nav-link" onclick="showSection('trends')">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z"/>
                        </svg>
                        Usage Trends
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#insights" class="nav-link" onclick="showSection('insights')">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6Z"/>
                        </svg>
                        Insights Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#forecasts" class="nav-link" onclick="showSection('forecasts')">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M23,11H20.5C20.5,7.41 17.59,4.5 14,4.5C11.3,4.5 9,6.05 8.18,8.35C5.5,8.53 3.5,10.68 3.5,13.25C3.5,16.04 5.75,18.3 8.54,18.3H23V11M22,17H9C6.79,17 5,15.21 5,13C5,11.28 6.06,9.78 7.64,9.35C8.27,7.16 10.29,5.5 12.71,5.5C15.82,5.5 18.35,7.95 18.5,11H22V17Z"/>
                        </svg>
                        Forecasts
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#reports" class="nav-link" onclick="showSection('reports')">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                        </svg>
                        Reports & Data
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Topbar with Filters -->
            <div class="topbar">
                <h1 class="page-title">Azure Demand Forecasting</h1>
                <div class="filters-container">
                    <div class="filter-group">
                        <label class="filter-label">Date Range</label>
                        <input type="date" class="filter-input" id="startDate" value="2023-01-01">
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">To</label>
                        <input type="date" class="filter-input" id="endDate" value="2023-12-31">
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Region</label>
                        <select class="filter-select" id="regionFilter">
                            <option value="all">All Regions</option>
                            <option value="East US">East US</option>
                            <option value="West US">West US</option>
                            <option value="North Europe">North Europe</option>
                            <option value="Southeast Asia">Southeast Asia</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Resource Type</label>
                        <select class="filter-select" id="resourceFilter">
                            <option value="all">All Types</option>
                            <option value="VM">Virtual Machines</option>
                            <option value="Storage">Storage</option>
                            <option value="Container">Container</option>
                        </select>
                    </div>
                    <button class="refresh-btn" onclick="refreshData()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"/>
                        </svg>
                        Refresh
                    </button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard-section" class="content-section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z"/>
                        </svg>
                    </div>
                    <h2 class="section-title">Overview Dashboard</h2>
                </div>

                <!-- Enhanced Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">78.5%</div>
                        <div class="stat-label">Average CPU Usage</div>
                        <div class="stat-trend trend-up">↗ +2.3% vs last month</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">2.1 TB</div>
                        <div class="stat-label">Total Storage Used</div>
                        <div class="stat-trend trend-up">↗ +156 GB this week</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">1,847</div>
                        <div class="stat-label">Active Users</div>
                        <div class="stat-trend trend-down">↘ -23 vs yesterday</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">99.7%</div>
                        <div class="stat-label">System Uptime</div>
                        <div class="stat-trend trend-up">↗ Target: 99.5%</div>
                    </div>
                </div>

                <!-- Enhanced Charts Grid -->
                <div class="dashboard-grid">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Real-time CPU Usage Trends
                            <span class="chart-subtitle">Last 24 hours</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="realtimeCpuChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Storage Growth Pattern
                            <span class="chart-subtitle">Monthly progression</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="storageGrowthChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Regional Performance Comparison
                            <span class="chart-subtitle">Current vs Previous Month</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="regionalComparisonChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Resource Optimization Score
                            <span class="chart-subtitle">Feature engineering impact</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="optimizationChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trends Section -->
            <div id="trends-section" class="content-section" style="display: none;">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z"/>
                        </svg>
                    </div>
                    <h2 class="section-title">Advanced Usage Trends</h2>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Seasonal CPU Patterns
                            <span class="chart-subtitle">Weekly variations by region</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="seasonalCpuChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Monthly Storage Trends
                            <span class="chart-subtitle">12-month outlook</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="monthlyStorageChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Before vs After Feature Engineering
                            <span class="chart-subtitle">Performance improvement</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="beforeAfterChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Peak Usage Heatmap
                            <span class="chart-subtitle">Hour vs Day analysis</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="heatmapChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!--  Insights Section -->
            <div id="insights-section" class="content-section" style="display: none;">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6Z"/>
                        </svg>
                    </div>
                    <h2 class="section-title">Powered Insights</h2>
                </div>

                <div class="insights-grid">
                    <div class="insight-card" style="--insight-color: #667eea;">
                        <h3 class="insight-title">🔥 Peak Demand Times</h3>
                        <div class="insight-content">
                            <div class="insight-metric">2:00 PM - 6:00 PM EST</div>
                            <p>Highest resource utilization occurs during business hours, with CPU usage peaking at <strong>94.2%</strong> on Tuesday. Storage demands increase by 23% during these periods.</p>
                        </div>
                    </div>
                    <div class="insight-card" style="--insight-color: #10b981;">
                        <h3 class="insight-title">📈 Fastest Growing Region</h3>
                        <div class="insight-content">
                            <div class="insight-metric">Southeast Asia: +127%</div>
                            <p>Southeast Asia shows remarkable growth in resource adoption, with user activity increasing by 127% month-over-month. VM deployments up 89% in Q1.</p>
                        </div>
                    </div>
                    <div class="insight-card" style="--insight-color: #f59e0b;">
                        <h3 class="insight-title">🌍 External Factors Impact</h3>
                        <div class="insight-content">
                            <div class="insight-metric">Weather Events: -12% efficiency</div>
                            <p>Data centers in regions affected by extreme weather events show 12% reduction in efficiency. Hurricane season correlates with 8% increase in failover activities.</p>
                        </div>
                    </div>
                    <div class="insight-card" style="--insight-color: #8b5cf6;">
                        <h3 class="insight-title">🔮 Predictive Recommendations</h3>
                        <div class="insight-content">
                            <div class="insight-metric">Scale up by 34%</div>
                            <p>ML models predict a 34% increase in demand over the next 3 months. Recommended actions: Pre-provision 45 additional VMs in East US and West US regions.</p>
                        </div>
                    </div>
                    <div class="insight-card" style="--insight-color: #ef4444;">
                        <h3 class="insight-title">⚠️ Resource Optimization</h3>
                        <div class="insight-content">
                            <div class="insight-metric">23% efficiency gain available</div>
                            <p>Underutilized resources detected in North Europe region. Potential cost savings of $42K/month through right-sizing and auto-scaling optimization.</p>
                        </div>
                    </div>
                    <div class="insight-card" style="--insight-color: #06b6d4;">
                        <h3 class="insight-title">📊 ML Model Accuracy</h3>
                        <div class="insight-content">
                            <div class="insight-metric">94.7% prediction accuracy</div>
                            <p>Our enhanced forecasting models achieve 94.7% accuracy in demand prediction, improving resource planning efficiency by 31% compared to traditional methods.</p>
                        </div>
                    </div>
                </div>

                <!-- Dynamic KPIs Chart -->
                <div class="dashboard-grid">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Dynamic KPI Dashboard
                            <span class="chart-subtitle">Real-time computed metrics</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="kpiChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            External Factors Correlation
                            <span class="chart-subtitle">Weather, holidays, market trends</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="externalFactorsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Forecasts Section -->
            <div id="forecasts-section" class="content-section" style="display: none;">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M23,11H20.5C20.5,7.41 17.59,4.5 14,4.5C11.3,4.5 9,6.05 8.18,8.35C5.5,8.53 3.5,10.68 3.5,13.25C3.5,16.04 5.75,18.3 8.54,18.3H23V11M22,17H9C6.79,17 5,15.21 5,13C5,11.28 6.06,9.78 7.64,9.35C8.27,7.16 10.29,5.5 12.71,5.5C15.82,5.5 18.35,7.95 18.5,11H22V17Z"/>
                        </svg>
                    </div>
                    <h2 class="section-title">Advanced Forecasting Models</h2>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            30-Day Demand Forecast
                            <span class="chart-subtitle">ML-powered predictions</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="forecastChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Resource Capacity Planning
                            <span class="chart-subtitle">Recommended scaling actions</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="capacityChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Cost Optimization Forecast
                            <span class="chart-subtitle">Predicted savings opportunities</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="costForecastChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">
                            Seasonal Demand Patterns
                            <span class="chart-subtitle">Historical vs Predicted</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="seasonalForecastChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Section -->
            <div id="reports-section" class="content-section" style="display: none;">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                        </svg>
                    </div>
                    <h2 class="section-title">Detailed Reports & Data</h2>
                </div>

                <div class="data-table">
                    <h3 class="chart-title">Enhanced Usage Analytics</h3>
                    <div class="table-wrapper">
                        <table id="dataTable">
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>Region</th>
                                    <th>Resource Type</th>
                                    <th>CPU Usage (%)</th>
                                    <th>Storage (GB)</th>
                                    <th>Active Users</th>
                                    <th>Cost ($)</th>
                                    <th>Efficiency Score</th>
                                    <th>Trend</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Enhanced sample data with more realistic patterns
        const enhancedAzureData = [
            // Generate comprehensive dataset
            ...Array.from({length: 100}, (_, i) => {
                const date = new Date('2023-01-01');
                date.setDate(date.getDate() + i);
                const regions = ['East US', 'West US', 'North Europe', 'Southeast Asia'];
                const resourceTypes = ['VM', 'Storage', 'Container'];
                
                return {
                    timestamp: date.toISOString().split('T')[0],
                    region: regions[i % regions.length],
                    resource_type: resourceTypes[i % resourceTypes.length],
                    usage_cpu: 60 + Math.sin(i * 0.1) * 20 + Math.random() * 10,
                    usage_storage: 1000 + Math.sin(i * 0.05) * 500 + Math.random() * 200,
                    users_active: 200 + Math.sin(i * 0.2) * 100 + Math.random() * 50,
                    cost: (60 + Math.sin(i * 0.1) * 20 + Math.random() * 10) * 1.2,
                    efficiency_score: 70 + Math.sin(i * 0.15) * 15 + Math.random() * 10,
                    trend: Math.random() > 0.5 ? 'up' : 'down'
                };
            })
        ];

        // Chart configurations with enhanced styling
        Chart.defaults.font.family = "'Segoe UI', sans-serif";
        Chart.defaults.color = '#666';
        Chart.defaults.elements.point.radius = 0;
        Chart.defaults.elements.point.hoverRadius = 8;

        // Global chart options
        const globalChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom',
                    labels: {
                        padding: 20,
                        usePointStyle: true,
                        font: {
                            size: 12,
                            weight: 500
                        }
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#667eea',
                    borderWidth: 1,
                    cornerRadius: 8,
                    displayColors: true
                }
            },
            scales: {
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        maxTicksLimit: 8,
                        font: {
                            size: 11
                        }
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0,0,0,0.05)',
                        drawBorder: false
                    },
                    ticks: {
                        font: {
                            size: 11
                        }
                    }
                }
            }
        };

        // Initialize all charts
        function initializeCharts() {
            // Real-time CPU Usage Chart
            const realtimeCpuCtx = document.getElementById('realtimeCpuChart').getContext('2d');
            new Chart(realtimeCpuCtx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 24}, (_, i) => `${i}:00`),
                    datasets: [{
                        label: 'CPU Usage %',
                        data: Array.from({length: 24}, () => 60 + Math.random() * 30),
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Predicted Usage %',
                        data: Array.from({length: 24}, () => 65 + Math.random() * 25),
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.05)',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.4
                    }]
                },
                options: globalChartOptions
            });

            // Storage Growth Chart
            const storageGrowthCtx = document.getElementById('storageGrowthChart').getContext('2d');
            new Chart(storageGrowthCtx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Storage Used (TB)',
                        data: [1.2, 1.4, 1.6, 1.9, 2.1, 2.0, 2.3, 2.5, 2.7, 2.4, 2.8, 3.0],
                        backgroundColor: 'rgba(102, 126, 234, 0.8)',
                        borderColor: '#667eea',
                        borderWidth: 2,
                        borderRadius: 8
                    }, {
                        label: 'Storage Capacity (TB)',
                        data: [4.0, 4.0, 4.2, 4.5, 4.5, 4.8, 5.0, 5.0, 5.2, 5.5, 5.5, 6.0],
                        backgroundColor: 'rgba(118, 75, 162, 0.3)',
                        borderColor: '#764ba2',
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: globalChartOptions
            });

            // Regional Comparison Chart
            const regionalComparisonCtx = document.getElementById('regionalComparisonChart').getContext('2d');
            new Chart(regionalComparisonCtx, {
                type: 'radar',
                data: {
                    labels: ['CPU Usage', 'Storage Efficiency', 'User Satisfaction', 'Cost Optimization', 'Uptime', 'Response Time'],
                    datasets: [{
                        label: 'Current Month',
                        data: [85, 78, 92, 76, 99, 88],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        pointBackgroundColor: '#667eea',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#667eea'
                    }, {
                        label: 'Previous Month',
                        data: [78, 72, 88, 82, 97, 85],
                        borderColor: '#764ba2',
                        backgroundColor: 'rgba(118, 75, 162, 0.1)',
                        pointBackgroundColor: '#764ba2',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#764ba2'
                    }]
                },
                options: {
                    ...globalChartOptions,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });

            // Resource Optimization Chart
            const optimizationCtx = document.getElementById('optimizationChart').getContext('2d');
            new Chart(optimizationCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Optimized', 'Needs Attention', 'Critical'],
                    datasets: [{
                        data: [73, 21, 6],
                        backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],
                        borderWidth: 0,
                        cutout: '70%'
                    }]
                },
                options: {
                    ...globalChartOptions,
                    plugins: {
                        ...globalChartOptions.plugins,
                        legend: {
                            ...globalChartOptions.plugins.legend,
                            position: 'right'
                        }
                    }
                }
            });

            // Initialize all other charts for different sections
            initializeTrendCharts();
            initializeInsightCharts();
            initializeForecastCharts();
        }

        function initializeTrendCharts() {
            // Seasonal CPU Patterns
            const seasonalCpuCtx = document.getElementById('seasonalCpuChart');
            if (seasonalCpuCtx) {
                new Chart(seasonalCpuCtx, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'East US',
                            data: [78, 82, 94, 89, 85, 45, 38],
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'West US',
                            data: [75, 79, 91, 86, 82, 52, 48],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: globalChartOptions
                });
            }

            // Monthly Storage Trends
            const monthlyStorageCtx = document.getElementById('monthlyStorageChart');
            if (monthlyStorageCtx) {
                new Chart(monthlyStorageCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [{
                            label: 'Historical Data (GB)',
                            data: [1200, 1350, 1480, 1620, 1750, 1890, 2020, 2180, 2340, 2510, 2680, 2850],
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: globalChartOptions
                });
            }

            // Before vs After Feature Engineering
            const beforeAfterCtx = document.getElementById('beforeAfterChart');
            if (beforeAfterCtx) {
                new Chart(beforeAfterCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Prediction Accuracy', 'Response Time', 'Resource Efficiency', 'Cost Optimization'],
                        datasets: [{
                            label: 'Before Feature Engineering',
                            data: [72, 85, 68, 71],
                            backgroundColor: 'rgba(239, 68, 68, 0.7)'
                        }, {
                            label: 'After Feature Engineering',
                            data: [94, 67, 89, 92],
                            backgroundColor: 'rgba(16, 185, 129, 0.7)'
                        }]
                    },
                    options: globalChartOptions
                });
            }

            // Peak Usage Heatmap
            const heatmapCtx = document.getElementById('heatmapChart');
            if (heatmapCtx) {
                new Chart(heatmapCtx, {
                    type: 'bar',
                    data: {
                        labels: ['12AM-6AM', '6AM-12PM', '12PM-6PM', '6PM-12AM'],
                        datasets: [{
                            label: 'Monday',
                            data: [25, 78, 94, 67],
                            backgroundColor: 'rgba(102, 126, 234, 0.8)'
                        }, {
                            label: 'Tuesday',
                            data: [23, 82, 96, 71],
                            backgroundColor: 'rgba(16, 185, 129, 0.8)'
                        }]
                    },
                    options: globalChartOptions
                });
            }
        }

        function initializeInsightCharts() {
            // Dynamic KPI Chart
            const kpiCtx = document.getElementById('kpiChart');
            if (kpiCtx) {
                new Chart(kpiCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 12}, (_, i) => `${i + 1}:00`),
                        datasets: [{
                            label: 'Efficiency Score',
                            data: Array.from({length: 12}, () => 70 + Math.random() * 20),
                            borderColor: '#667eea'
                        }]
                    },
                    options: globalChartOptions
                });
            }

            // External Factors Chart
            const externalFactorsCtx = document.getElementById('externalFactorsChart');
            if (externalFactorsCtx) {
                new Chart(externalFactorsCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'Weather Impact',
                            data: Array.from({length: 20}, () => ({
                                x: Math.random() * 100,
                                y: Math.random() * 100
                            })),
                            backgroundColor: 'rgba(102, 126, 234, 0.6)'
                        }]
                    },
                    options: globalChartOptions
                });
            }
        }

        function initializeForecastCharts() {
            // 30-Day Forecast
            const forecastCtx = document.getElementById('forecastChart');
            if (forecastCtx) {
                new Chart(forecastCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 30}, (_, i) => `Day ${i + 1}`),
                        datasets: [{
                            label: 'Predicted Usage',
                            data: Array.from({length: 30}, () => 70 + Math.random() * 20),
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            fill: true
                        }]
                    },
                    options: globalChartOptions
                });
            }

            // Capacity Planning
            const capacityCtx = document.getElementById('capacityChart');
            if (capacityCtx) {
                new Chart(capacityCtx, {
                    type: 'bar',
                    data: {
                        labels: ['East US', 'West US', 'North Europe', 'Southeast Asia'],
                        datasets: [{
                            label: 'Current Capacity',
                            data: [85, 72, 68, 91],
                            backgroundColor: 'rgba(102, 126, 234, 0.7)'
                        }]
                    },
                    options: globalChartOptions
                });
            }

            // Cost Forecast
            const costForecastCtx = document.getElementById('costForecastChart');
            if (costForecastCtx) {
                new Chart(costForecastCtx, {
                    type: 'line',
                    data: {
                        labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                        datasets: [{
                            label: 'Projected Costs ($K)',
                            data: [120, 135, 142, 158],
                            borderColor: '#ef4444'
                        }]
                    },
                    options: globalChartOptions
                });
            }

            // Seasonal Forecast
            const seasonalForecastCtx = document.getElementById('seasonalForecastChart');
            if (seasonalForecastCtx) {
                new Chart(seasonalForecastCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [{
                            label: 'Historical Pattern',
                            data: [78, 82, 85, 88, 92, 89, 86, 83, 87, 91, 94, 89],
                            borderColor: '#667eea'
                        }]
                    },
                    options: globalChartOptions
                });
            }
        }

        // Navigation functions
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.style.display = 'none');
            
            // Show selected section
            document.getElementById(sectionName + '-section').style.display = 'block';
            
            // Update active nav link
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('active'));
            event.target.closest('.nav-link').classList.add('active');
            
            // Load reports data if reports section is selected
            if (sectionName === 'reports') {
                loadReportsData();
            }
            
            // Initialize charts for the selected section
            setTimeout(() => {
                if (sectionName === 'trends') {
                    initializeTrendCharts();
                } else if (sectionName === 'insights') {
                    initializeInsightCharts();
                } else if (sectionName === 'forecasts') {
                    initializeForecastCharts();
                }
            }, 100);
        }

        // Load reports data
        function loadReportsData() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            
            enhancedAzureData.slice(0, 20).forEach(row => {
                const tr = document.createElement('tr');
                const trendIcon = row.trend === 'up' ? '↗️' : '↘️';
                
                tr.innerHTML = `
                    <td>${new Date(row.timestamp).toLocaleDateString()}</td>
                    <td><span class="region-badge region-${row.region.replace(' ', '-').toLowerCase()}">${row.region}</span></td>
                    <td><span class="resource-badge resource-${row.resource_type.toLowerCase()}">${row.resource_type}</span></td>
                    <td>${row.usage_cpu.toFixed(1)}%</td>
                    <td>${row.usage_storage.toLocaleString()} GB</td>
                    <td>${Math.round(row.users_active)}</td>
                    <td>$${row.cost.toFixed(2)}</td>
                    <td>${row.efficiency_score.toFixed(1)}/100</td>
                    <td>${trendIcon}</td>
                `;
                tableBody.appendChild(tr);
            });
        }

        // Refresh data function
        function refreshData() {
            const button = document.querySelector('.refresh-btn');
            const originalContent = button.innerHTML;
            
            button.innerHTML = `
                <div class="spinner" style="width: 16px; height: 16px; margin-right: 8px;"></div>
                Refreshing...
            `;
            button.disabled = true;
            
            setTimeout(() => {
                // Update stats with new random values
                const statValues = document.querySelectorAll('.stat-value');
                const newValues = [
                    (75 + Math.random() * 10).toFixed(1) + '%',
                    (2.0 + Math.random() * 0.5).toFixed(1) + ' TB',
                    Math.round(1800 + Math.random() * 100).toLocaleString(),
                    (99.5 + Math.random() * 0.4).toFixed(1) + '%'
                ];
                
                statValues.forEach((element, index) => {
                    element.textContent = newValues[index];
                });
                
                button.innerHTML = originalContent;
                button.disabled = false;
                
                // Show notification
                const notification = document.createElement('div');
                notification.textContent = 'Data refreshed successfully!';
                notification.style.cssText = `
                    position: fixed; top: 20px; right: 20px; background: #10b981;
                    color: white; padding: 15px 25px; border-radius: 12px;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); z-index: 10000;
                `;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 3000);
            }, 2000);
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            
            // Set default dates
            const today = new Date();
            const thirtyDaysAgo = new Date(today.getTime() - (30 * 24 * 60 * 60 * 1000));
            document.getElementById('endDate').value = today.toISOString().split('T')[0];
            document.getElementById('startDate').value = thirtyDaysAgo.toISOString().split('T')[0];
            
            // Animation for cards
            const cards = document.querySelectorAll('.chart-card, .stat-card, .insight-card');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                observer.observe(card);
            });
        });
    </script>
</body>
</html>